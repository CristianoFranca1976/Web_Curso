<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Patrulhamento</title>
  </head>
  <style>
    section {
      border: 1px solid white;
      width: 100%;
      height: auto;
      color: white;
      display: flex;
      align-items: center;
      justify-items: center;
      flex-direction: column;
      display: none;
    }
    section.active {
      display: flex;
    }
    #cards {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      gap: 20px;
    }
    .card {
      border: 1px solid white;
      border-radius: 15px;
      padding: 15px 5px;
      display: flex;
      align-items: center;
      justify-content: space-evenly;
      flex-direction: column;
      width: 200px;
      height: 350px;
    }
    .btnNext {
      background: yellow;
      color: red;
    }
    p {
      text-align: justify;
    }
  </style>
  <body>
    <div class="container">
      <section id="modulo1" class="active">
        <h1>Patrulhamento</h1>
        <p>
          O patrulhamento se inicia dentro da DP, cada policial assume uma
          posicao na viatura, o qual cada um tem sua funcao. Veja a funcao de
          cada policial na viatura ao inicar o patrulhamento abaixo:
        </p>
        <div id="cards">
          <div id="card1" class="card">
            <h2>Funcao P1</h2>
            <p>P1 = Motorista, lado esquerdo e na frente na viatura.</p>
            <button type="button" onclick="btnCard(1)">+</button>
          </div>
          <div id="card2" class="card">
            <h2>Funcao P2</h2>
            <p>P2 = Modulador, lado direito e na frente na viatura.</p>
            <button type="button" onclick="btnCard(2)">+</button>
          </div>
          <div id="card3" class="card">
            <h2>Funcao P3</h2>
            <p>P3 = Auxiliar, lado esquerdo atras do P1 na viatura.</p>
            <button type="button" onclick="btnCard(3)">+</button>
          </div>
          <div id="card4" class="card">
            <h2>Funcao P4</h2>
            <p>P4 = Auxiliar, lado direito atras do P4 na viatura.</p>
            <button type="button" onclick="btnCard(4)">+</button>
          </div>
        </div>
        <h3></h3>
        <div class="nav-buttons">
          <button
            type="button"
            class="btnNext"
            onclick="mostrarModulo(2)"
            disabled
          >
            disabled
          </button>
        </div>
      </section>
      <section id="modulo2">
        <h1>
          "E aqui que voce tera exemplos praticos das funcoes de cada Policial
          dentro da viatura, no video abaixo ira ter algumas situcoes e como
          deve agir diante delas, as quais voce tera que estar preparado pra ter
          a melhor reacao e acao a tomar diante do ocorrido na sua frente."
        </h1>
        <video width="320" height="240" controls>
          <source src="movie.mp4" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
        <div class="nav-buttons">
          <button type="button" onclick="mostrarModulo(1)">Previous</button>
          <button
            type="button"
            class="btnNext"
            onclick="mostrarModulo(3)"
            disabled
          >
            Next
          </button>
        </div>
      </section>
      <section id="modulo3">
        Section 03
        <div class="nav-buttons">
          <button type="button" onclick="mostrarModulo(2)">Previous</button>
          <button type="button" onclick="mostrarModulo(4)" disabled>
            Next
          </button>
        </div>
      </section>
      <section id="modulo4">
        Section 04
        <div class="nav-buttons">
          <button type="button" onclick="mostrarModulo(3)">Previous</button>
        </div>
      </section>
    </div>
    <script>
      function mostrarModulo(numero) {
        const section = document.querySelectorAll("section");
        section.forEach((secao) => secao.classList.remove("active"));
        document.getElementById("modulo" + numero).classList.add("active");
      }

      const card1 = document.getElementById("card1");
      const card2 = document.getElementById("card2");
      const card3 = document.getElementById("card3");
      const card4 = document.getElementById("card4");
      const h3 = document.querySelector("h3");
      const p1 = `
       <p>P1</p>
       <ul>
          <li>Dirigir a viatura;</li>
          <li>Manter a viatura trancada;</li>
          <li>Ver se todos estao de cinto;</li>
          <li>Embarcar e desembar da viatura;</li>
          <li>O ultimo a sair da viatura;</li>
          <li>Dirigir devagar e correto;</li>
        </ul>
      `;
      const p2 = `
        <p>P2</p>
        <ul>
          <li>Pedir permisao embarcar e desembarcar da viatura;</li>
          <li>Responsavel pelo patrulhamento;</li>
          <li>Modular;</li>
          <li>Orientar o P1;</li>
          <li>Marcar as QRU;</li>
          <li>Decidir quem abordar;</li>
        </ul>
        `;
      const p3 = `
        <p>P3</p>
        <ul>
          <li>Pedir permisao embarcar e desembarcar da viatura;</li>
          <li>Auxiliar o P2;</li>
          <li>Olhar as costa da Viatura;</li>
          <li>Imformar supeitos;</li>
        </ul>
        `;
      const p4 = `
        <p>P4</p>
        <ul>
          <li>Pedir permisao embarcar e desembarcar da viatura;</li>
          <li>Auxiliar o P2;</li>
          <li>Olhar as costa da Viatura;</li>
          <li>Imformar supeitos;</li>
        </ul>
        `;
      const h3Value = `
         Lembrando: A viatura sempre tem que ter uma vaga livre para possivel cidadao que for preso.
        `;

      const btnNext = document.querySelectorAll(".btnNext");
      function btnCard(numero) {
        if (numero === 1) {
          card1.innerHTML = p1;
        } else if (numero === 2) {
          card2.innerHTML = p2;
        } else if (numero === 3) {
          card3.innerHTML = p3;
        } else if (numero === 4) {
          card4.innerHTML = p4;
        }

        if (
          card1.innerHTML === p1 &&
          card2.innerHTML === p2 &&
          card3.innerHTML === p3 &&
          card4.innerHTML === p4
        ) {
          setTimeout(() => {
            h3.innerHTML = h3Value;
            for (let i = 0; i < btnNext.length; i++) {
              const element = btnNext[i];
              btnNext.forEach((element) => {
                element.removeAttribute("disabled", "");
                element.style.background = "green";
                element.innerHTML = "Next";
              });
            }
          }, 2000);
        }
      }
     // video controls
     
      const video = document.getElementById("meuVideo");
      let ultimaPosicaoPermitida = 0;

      video.addEventListener("timeupdate", () => {
        if (video.currentTime > ultimaPosicaoPermitida + 0.1) {
          video.currentTime = ultimaPosicaoPermitida;
        } else {
          ultimaPosicaoPermitida = video.currentTime;
        }
      });

      video.addEventListener("seeking", () => {
        if (video.currentTime > ultimaPosicaoPermitida) {
          video.currentTime = ultimaPosicaoPermitida;
        }
      });
    </script>
  </body>
</html>
